## App Usage Ã— Sleep â†” Mental Health

ìŠ¤ë§ˆíŠ¸í° ì•± ì‚¬ìš©ì´ ìš°ìš¸Â·ë¶ˆì•ˆÂ·ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ê°™ì€ ì •ì‹ ê±´ê°• ì§€í‘œì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€, ê·¸ë¦¬ê³  **ìˆ˜ë©´ì˜ ì§ˆì´ ì´ ê´€ê³„ë¥¼ ì–´ë–»ê²Œ ì¡°ì ˆí•˜ëŠ”ì§€**ë¥¼ ë¶„ì„í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

**ë°ì´í„°ëŠ” ë¹„ê³µê°œ**ì´ë©°, ì½”ë“œì™€ ê²°ê³¼ë¬¼(í‘œ/ê·¸ë¦¼)ë§Œ ê³µê°œí•©ë‹ˆë‹¤.

---

## Hypothesis (ì—°êµ¬ ê°€ì„¤)

**ê°€ì„¤**:

â€œíŠ¹ì • ì¹´í…Œê³ ë¦¬ì˜ ì•± ì‚¬ìš© ì‹œê°„ì´ ì¦ê°€í• ìˆ˜ë¡, ìš°ìš¸Â·ë¶ˆì•ˆÂ·ìŠ¤íŠ¸ë ˆìŠ¤ ì§€í‘œê°€ ì•…í™”ë˜ë©°, ì´ ê´€ê³„ëŠ” ì‚¬ìš©ìì˜ ìˆ˜ë©´ì˜ ì§ˆì— ë”°ë¼ ë‹¬ë¼ì§ˆ ê²ƒì´ë‹¤.â€

â†’ ì¦‰, ì•± ì‚¬ìš©ëŸ‰(ë…ë¦½ë³€ìˆ˜)ê³¼ ì •ì‹ ê±´ê°• ì§€í‘œ(ì¢…ì†ë³€ìˆ˜) ì‚¬ì´ì˜ ê´€ê³„ëŠ” **ìˆ˜ë©´ì˜ ì§ˆ(ì¡°ì ˆë³€ìˆ˜)** ì— ì˜í•´ ê°•í™”ë˜ê±°ë‚˜ ì•½í™”ë  ìˆ˜ ìˆë‹¤.

- **H_main(ì£¼íš¨ê³¼)**: ì•± ì‚¬ìš© ì‹œê°„ì´ ëŠ˜ìˆ˜ë¡ PHQ-9 / GAD-7 / Stress ì ìˆ˜ê°€ **ì•…í™”**ëœë‹¤.
- **H_mod(ì¡°ì ˆíš¨ê³¼)**: ì´ ê´€ê³„ëŠ” **ìˆ˜ë©´ì˜ ì§ˆ(mean_confidence)** ì— ë”°ë¼ **ë‹¬ë¼ì§„ë‹¤**
  (ìˆ˜ë©´ì˜ ì§ˆì´ ë†’ì„ìˆ˜ë¡ â€˜ì •ì‹  ê±´ê°• ì•…í™” ê¸°ìš¸ê¸°â€™ê°€ **ì™„ë§Œ**í•´ì§€ëŠ” ë°©í–¥ì„ ê¸°ëŒ€).

---

## Preview

ìì„¸í•œ í‘œ/ìš”ì•½ ğŸ‘‰ [docs/results_summary.md](docs/results_summary.md)


> ë¶„ì„ ê²°ê³¼
<p float="left">
  <figure style="display:inline-block; width:49%">
    <figcaption align="center">- ì•± ì‚¬ìš©ì‹œê°„ê³¼ ì •ì‹ ê±´ê°• ì ìˆ˜ ë¶„í¬ (0ì´ ë§ê³  ì¼ë¶€ ê·¹ë‹¨ì¹˜ ì¡´ì¬)</figcaption>
    <img src="notebooks/results/figures/dist_panels.png" width="50%" />
  </figure>
  <figure style="display:inline-block; width:49%">
    <figcaption align="center">ì•± ì‚¬ìš© â†” ì •ì‹ ê±´ê°• ì§€í‘œ Spearman ìƒê´€ (ì „ë°˜ì ìœ¼ë¡œ ì•½í•œ ìƒê´€)</figcaption>
    <img src="notebooks/results/figures/spearman_heatmap.png" width="50%" />
  </figure>
</p>

<p float="left">
  <figure style="display:inline-block; width:49%">
    <figcaption align="center">Social APP ì‚¬ìš© Ã— ìˆ˜ë©´ ì§ˆ â†’ PHQ-9</figcaption>
    <img src="notebooks/results/figures/moderation_SOCIAL_PHQ9_score.png" width="50%" />
  </figure>
  <figure style="display:inline-block; width:49%">
    <figcaption align="center">Game APP ì‚¬ìš© Ã— ìˆ˜ë©´ ì§ˆ â†’ PHQ-9 (ì¢‹ì€ ìˆ˜ë©´ì€ ì™„í™”, ë‚˜ìœ ìˆ˜ë©´ì€ ì•…í™”)</figcaption>
    <img src="notebooks/results/figures/moderation_GAME_PHQ9_score.png" width="50%" />
  </figure>
</p>

---

## Key Findings

- **H_main(ì£¼íš¨ê³¼)**: ì „ë°˜ì Â·ë³´ì • í¬í•¨ ê¸°ì¤€ì—ì„œ **ì¼ê´€ëœ ì•…í™” íš¨ê³¼ëŠ” í™•ì¸ë˜ì§€ ì•ŠìŒ.**
  (0 ê°’ì´ ë§ê³  ì¼ë¶€ ì‚¬ìš©ìë§Œ ë§¤ìš° í¬ê²Œ ì“°ëŠ” ë¶„í¬ íŠ¹ì„± + ë‚®ì€ RÂ²ì˜ ì˜í–¥)
- **H_mod(ì¡°ì ˆíš¨ê³¼)**: **ìˆ˜ë©´ì˜ ì§ˆì— ë”°ë¼ íš¨ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ì‹ í˜¸**ê°€ ì¼ë¶€ ì¹´í…Œê³ ë¦¬Â·ì§€í‘œì—ì„œ ë‚˜íƒ€ë‚¨
  - **SNS Ã— ìˆ˜ë©´ì˜ ì§ˆ** â†’ PHQ-9 / GAD-7 / Stress ì¤‘ ì¼ë¶€ì—ì„œ **ìœ ì˜(p<.05)**  
  - **ê²Œì„ Ã— ìˆ˜ë©´ì˜ ì§ˆ** â†’ PHQ-9 / Stressì—ì„œ **ìœ ì˜(p<.05)**
  - í•´ì„: **ê°™ì€ ì‚¬ìš© ì‹œê°„ì´ë¼ë„, ì ì„ ì˜ ì” ë‚ ê³¼ ëª» ì” ë‚ ì˜ ì˜í–¥ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ.**
- **ì„¤ëª…ë ¥**: RÂ²ëŠ” ë‚®ìŒ(â‰ˆ0.01â€“0.03) â†’ **ë‹¤ë¥¸ ê³µë³€ëŸ‰ ì¶”ê°€ ë° ëª¨í˜• ê°œì„  ì—¬ì§€**ê°€ ì¡´ì¬í•¨.

> ë³´ê³  ì›ì¹™: **ê°€ì„¤ ê¸°ë°˜ ë¹„êµ(í™•ì¦ì )** = {SNSÃ—ìˆ˜ë©´, GAMEÃ—ìˆ˜ë©´} Ã— {PHQ-9, GAD-7, Stress} **6ê°œ**ì—ë§Œ **FDR ë³´ì •**ì„ ì ìš©í•˜ì˜€ìŒ.
> ê·¸ ì™¸ ì „ìˆ˜ íƒìƒ‰(ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ ì „ë¶€)ì€ **ë³´ì • ì „ ê°’ ì°¸ê³ ìš©**ìœ¼ë¡œ ë³„ë„ë¡œ ê¸°ìˆ í•˜ì˜€ìŒ.

---

## Repository Layout

```
â”œâ”€â”€ all_data/                         # (ë¹„ê³µê°œ)
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_data_preprocessing.ipynb   # Spark ì „ì²˜ë¦¬/í†µí•©/ì €ì¥
â”‚   â”œâ”€â”€ 02_correlation_analysis.ipynb # ê¸°ìˆ í†µê³„/íˆìŠ¤í† ê·¸ë¨/Spearman+FDR
â”‚   â””â”€â”€ 03_regression_analysis.ipynb  # ë‹¨ê³„ì  íšŒê·€(ì¡°ì ˆíš¨ê³¼), cluster-robust SE
â”‚   â””â”€â”€ results/
â”‚       â”œâ”€â”€ figures/                  # dist_panels, heatmap, moderation plots
â”‚       â””â”€â”€ tables/                   # descriptive_stats, spearman_fdr, moderation_step3_APA, VIF, â€¦
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ methodology.md                # ë°ì´í„°/ì„¤ê³„/ì§€í‘œ ì„¤ëª…
â”‚   â”œâ”€â”€ limitations_ethics.md        # ìœ¤ë¦¬/í•œê³„
â”‚   â””â”€â”€ results_summary.md            # ìë™ ìƒì„±ëœ ê²°ê³¼ ìš”ì•½
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build_results_summary.py      # ê²°ê³¼ ìš”ì•½ MD ìë™ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ requirements.txt                  # (ì°¸ê³ ) ì˜ì¡´ì„±
â””â”€â”€ LICENSE
```

---

## Methods

**ë°ì´í„°: ì•± ì‚¬ìš© ë¡œê·¸(ì¹´í…Œê³ ë¦¬ë³„), ìˆ˜ë©´ ê¸°ë¡(meanConfidence, midawake), ì •ì‹ ê±´ê°• ì„¤ë¬¸(PHQ-9, GAD-7, Stress)**

**ë¶„ì„: Spearman ìƒê´€ + Benjaminiâ€“Hochberg FDR ë³´ì •, ì¡°ì ˆ íšŒê·€(cluster-robust SE)**

**êµ¬í˜„: PySpark ì „ì²˜ë¦¬ â†’ pandas/scipy/statsmodels ë¶„ì„**

---

## How to Run (ë°ì´í„° ë¹„ê³µê°œ)

1) ë°ì´í„° ìœ„ì¹˜

```
all_data/
â”œâ”€ filtering_complete_app_usage.csv
â”œâ”€ response_week_mapping_adjusted.csv
â”œâ”€ sleep_week_mapped.csv
â””â”€ sleep_diary_week_mapped.csv
```

2. ì‹¤í–‰ ìˆœì„œ
```
01_data_preprocessing.ipynb ì‹¤í–‰ â†’ notebooks/results/tables/processed_weekly/ ìƒì„±

02_correlation_analysis.ipynb ì‹¤í–‰ â†’ í‘œ/ê·¸ë¦¼ ì €ì¥

03_regression_analysis.ipynb ì‹¤í–‰ â†’ íšŒê·€ í‘œ/ì¡°ì ˆ í”Œë¡¯ ì €ì¥
```
3. ìš”ì•½ íŒŒì¼ ìƒì„±
```
python scripts/build_results_summary.py
```

---

##  Key Artifacts
```
Figures:
notebooks/results/figures/dist_panels.png,
notebooks/results/figures/spearman_heatmap.png,
notebooks/results/figures/moderation_*.png

Tables:
notebooks/results/tables/descriptive_stats.csv,
notebooks/results/tables/spearman_fdr.csv,
notebooks/results/tables/moderation_step3_APA.csv,
notebooks/results/tables/vif_by_category.csv
spearman_fdr_hypotheses.csv, spearman_exploratory_top.csv
```
---

## Ethics & Limitations

- ì›ë³¸ ë°ì´í„°ëŠ” **ë¹„ê³µê°œ**(ê°œì¸/ë¯¼ê°ì •ë³´ ë³´í˜¸)  
- **ì£¼ì°¨ë³„ ë°ì´í„°ì—ì„œ íŠ¹ì • ì¹´í…Œê³ ë¦¬ì˜ ì•±ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ì•ŠëŠ” ì‚¬ëŒ(0ì´ ë§ìŒ)**ê³¼ ì•„ì£¼ ì˜¤ë˜ ì“°ëŠ” ì†Œìˆ˜ê°€ í•¨ê»˜ ìˆì–´, ë‹¨ìˆœ ìƒê´€ê´€ê³„ë¶„ì„ìœ¼ë¡œëŠ” ê´€ê³„ê°€ ì•½í•˜ê²Œ ë³´ì¼ ìˆ˜ ìˆìŒ
- RÂ² ë‚®ìŒ â†’ ë‹¤ë¥¸ ìš”ì¸(ì˜ˆ: ìƒí™œ íŒ¨í„´, ìŠ¤íŠ¸ë ˆìŠ¤ ìš”ì¸ ë“±)ì´ë‚˜ ë‹¤ë¥¸ ë¶„ì„ ë°©ë²•(ë¡œê·¸ ë³€í™˜, ìƒìœ„ê°’ ì ˆì œ, í˜¼í•©ëª¨í˜• ë“±)ì„ ì¶”ê°€í•´ ë³¼ ì—¬ì§€ê°€ ì¡´ì¬í•¨
- ìì„¸í•œ ë‚´ìš©: `docs/limitations_ethics.md`

---

## License

ë³¸ repositoryëŠ” LICENSE íŒŒì¼ì„ ë”°ë¦…ë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°ëŠ” í¬í•¨ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.
